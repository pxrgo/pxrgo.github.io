---
layout: post
title: "关于mac地址克隆"
date: 2016-01-10
categories: 网络
---

自从搬到新的宿舍，花了几天时间终于解决了无线路由器速度变慢的问题。以下是采用排除法，通过一步步分析，最后得到的解决方案。

最初的现象是这样的：从墙上网络端口连出来的网线，只要是直接连PC，速度都很快，可以达到1.2m/s；
可一旦经过路由器，速度直接掉到50k/s不到的速度，连刷网页都困难。原以为路由器坏了，可是换了三个路由器，
结果都一样。这样显然就排除了带宽小和路由器损坏的可能性。

接下来从路由器设置页面查看连接的网卡，继续排除无线被其他人占用的可能。
而从lan口连出来的网线直接连接PC，速度同样没有上去。所以排除了无线信道被干扰的可能性。

在这种情况下，不得不怀疑是否是宽带服务提供商（以下简称“服务商”）限制了路由器的使用。如果是，服务商是如何限制路由器的呢？

如果服务商禁止路由，只想让一台机器上网，或者只想让modem分出来的几个端口的机器上网，
应该是通过mac地址的数量限制来实现的。那么，既然如此，只要能让路由器各个口的mac地址一样，它就会当做只有一台机器在上网，
这样不就可以绕过服务商的限制了吗？

原理似乎就这么简单，于是果断在路由设置中进行mac地址克隆。果然，mac地址克隆后，无线的网速终于恢复正常了。

至此，还有个问题未回答：如果真的是被服务商限制了路由，为什么还能上网（只是网速慢）？一种可能的解释是：
服务商只是限制了网速，而不是真正拒绝访问。

至此，所有的问题应该都解释得通了。
